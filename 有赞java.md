https://www.nowcoder.com/discuss/97444?type=0&order=0&pos=19&page=1

**有赞：** 

​	1 自我介绍和项目

​	2 Java的内存分区

​	3 Java对象的回收方式，回收算法。

​	4 CMS和G1了解么，CMS解决什么问题，说一下回收的过程。

​	5 CMS回收停顿了几次，为什么要停顿两次。

​	6 Java栈什么时候会发生内存溢出，Java堆呢，说一种场景，我说集合类持有对象。

​	7 那集合类如何解决这个问题呢，我说用软引用和弱引用，那你讲一下这两个引用的区别吧。

​	8 Java里的锁了解哪些，说了Lock和synchronized

​	9 它们的使用方式和实现原理有什么区别呢，使用的话，synchronize用于方法和代码块，可以锁对象和类以及方法，Lock一般锁一块代码。并且Lock可以搭配condition使用。

​	实现原理的话，synchronized使用底层的mutex锁，需要系统调用，而Lock则使用AQS实现。

​	10 synchronized锁升级的过程，说了偏向锁到轻量级锁再到重量级锁，然后问我它们分别是怎么实现的，解决的是哪些问题，什么时候会发生锁升级。

​	11Tomcat了解么。说一下类加载器结构吧，我说不知道，说了些别的。

​	12 问我会什么框架，说了Spring，问我Spring中如何让A和B两个bean按顺序加载，我说依赖关系，他问怎么实现，然后说要用dependon注解，我说不了解。

​	13 beanfactory和applicationcontext是什么关系，使用有什么区别。

​	14 MySQL的sql优化了解么，答了解索引优化。

​	15 他问我如何做一条sql的优化，说了慢日志和explain。

​	16 MySQL集群的主从复制怎么做的，具体有哪些线程做哪些事情，使用了哪些日志。

​	17 CAP定理说一下，为什么三者只能选二，为什么分区容忍性必须保证。

​	18 平时了解哪些技术是牺牲了一致性来保证可用性的，我说消息队列，他问我MySQL是不是，我说MySQL主从复制应该是。

​	19 工作中CAP的A和P是怎么选择的，我说选P吧，他的意思是选A。

​	20 算法题：

​	一：10亿个数去重，我说用hash分片做，他说可能不均匀，然后我说了bitmap，他说那数字量更多怎么办，我说那就两个bitmap把。他说下一题吧。

​	二：十亿个数找前10个最大的，小顶堆过一遍即可。他说如果要提高效率呢，我说可以分片做堆排序再进行归并即可。他说OK。